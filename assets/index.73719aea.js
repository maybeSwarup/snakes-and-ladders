import{S as le,P as ce,W as re,A as pe,a as fe,b as we,D as ge,c as me,C as he,O as ue,G as xe,B,T,M as be,d as M,e as Le,f as Me,g as E,h as je}from"./three.a4ec2a72.js";import{C as u}from"./cannon.0fd49401.js";import{D as N}from"./threejs-dice.e97cf648.js";import"./sweetalert2.1b1722fa.js";const ve=function(){const p=document.createElement("link").relList;if(p&&p.supports&&p.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))f(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const w of n.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&f(w)}).observe(document,{childList:!0,subtree:!0});function x(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function f(o){if(o.ep)return;o.ep=!0;const n=x(o);fetch(o.href,n)}};ve();let l,W=4,i,j=[],q=500,R={17:7,54:34,62:19,64:60,87:24,93:73,95:75,98:79},I={1:38,4:14,9:31,21:42,51:67,72:91,80:100};class ye{constructor(p){let x=window.innerWidth,f=window.innerHeight;const o=new le;let n=75,w=x/f,K=.1,V=1e3;const g=new ce(n,w,K,V);g.position.set(0,150,0);const c=new re({canvas:p});c.setSize(x,f),c.setPixelRatio(window.devicePixelRatio);function k(){c.render(o,g),requestAnimationFrame(k)}let v=16777215,y=1;const X=new pe(v,y);o.add(X);const A=new fe(v,y);A.position.set(70,40,0),new we(A);const r=new ge(v,y);r.position.set(150,150,-150),r.target.position.set(-5,0,0),o.add(r),o.add(r.target);let Z=new me(r);function J(){r.target.updateMatrixWorld(),Z.update()}J();const F=new he;F.setPath("./src/assets/");const Q=F.load(["posx.jpg","negx.jpg","posy.jpg","negy.jpg","posz.jpg","negz.jpg"]);o.background=Q;function U(){g.aspect=window.innerWidth/window.innerHeight,g.updateProjectionMatrix(),c.setSize(window.innerWidth,window.innerHeight)}window.addEventListener("resize",U);const O=new ue(g,c.domElement);O.minDistance=50,O.maxDistance=300,new xe(200,50);const _=new B(110,10,110),$=new T().load("./src/assets/wood.jpg"),P=new be({map:$}),S=new M(_,P);S.translateY(5),o.add(S);const ee=new T().load("./src/assets/board.jpg"),oe=new Le(100,100),te=new Me({map:ee}),z=new M(oe,te);z.translateY(10.1),z.rotation.x=-(Math.PI/2),o.add(z);function ne(e){l=new Array(e);let L=[16723502,16318254,3080045,4094975,16723690,16728385];for(let d=0;d<e;d++)l[d]=new M(new je(3,10),new E({color:L[d]})),l[d].position.set(-55,15,45-d*5),o.add(l[d])}ne(W);let s=0,t=Array(W);t=[0,0,0,0,0,0];function ie(e,L){t[e]+=L,t[e]>100&&(t[e]-=L),l[e].position.set(i[t[e]].x,i[t[e]].y,i[t[e]].z),console.log("player "+e+" position: "+t[e]),Object.keys(R).includes(t[e].toString())&&(console.log("snake: "+t[e]),setTimeout(()=>{t[e]=R[t[e]],l[e].position.set(i[t[e]].x,i[t[e]].y,i[t[e]].z)},q)),Object.keys(I).includes(t[e].toString())&&(console.log("ladder: "+t[e]),setTimeout(()=>{t[e]=I[t[e]],l[e].position.set(i[t[e]].x,i[t[e]].y,i[t[e]].z)},q)),t[e]===100&&(j.includes(e)||j.push(e),console.log("winner: "+j))}const se=new B(6,6,6),ae=new T().load("./src/assets/wood.jpg"),de=new E({map:ae}),G=new M(se,de);G.position.set(60,15,0),G.dispatchEvent({type:"click"}),G.addEventListener("click",console.log("you've clicked dice")),c.domElement.addEventListener("click",C);function C(){j.includes(s)&&(s++,C()),s===W&&(s=0);let e=Math.floor(Math.random()*(7-1)+1);console.log("dice: "+e),ie(s,e),s++,console.log(s)}let a=-55,D=15,b=45,m=1;i=[{x:a,y:D,z:b},{x:0,y:1,z:0}];for(let e=1;e<=100;e++)a+=10*m,a>45?(a-=10,b-=10,m=-m):a<-45&&(a+=10,b-=10,m=-m),i[e]={x:a,y:D,z:b};const h=new u.World;h.gravity.set(0,-9.82*20,0),h.broadphase=new u.NaiveBroadphase,h.solver.iterations=16,N.setWorld(h);let H=new u.Body({mass:0,shape:new u.Plane,material:N.floorBodyMaterial});H.quaternion.setFromAxisAngle(new u.Vec3(1,0,0),-Math.PI/2),h.add(H),k(),console.log("inside game con")}}let ze=document.querySelector("#c");new ye(ze);console.log("inside main");
